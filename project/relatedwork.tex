\chapter{Related Work}


Wind farm layout optimization has been studied extensively the last 20 years and the goal of this section is to provide the reader with an overview. Different optimization techniques has been tested in finding the optimal farm design \textcolor{red}{Reference}, however, this section will focus on attempts made by utilizing the genetic algorithm, since that is the focus of this thesis. \textcolor{red}{The last part of the section contains a discussion of the presented related work related to the theme of the thesis.} 


\section{A Survey of the State of the Art}


% Mosetti et al, 1994.
\cite{Mosetti} were the first to successfully demonstrate the utilization of the genetic algorithm in solving the wind farm layout optimization problem. Although their work was made for illustrative purposes only, it laid the foundation for a number of more extensive studies of wind farm layout optimization using genetic algorithms.\\

\noindent In order to model a wind farm one have to specify a wake model, a power curve and a cost function. To model the wind decay, Mosetti et al. used a wake model similar to the one developed by Jensen \textcolor{red}{[1983]}. Power generated by each turbine $i$ was modeled as a cubic function of the wind speed $u$ and site roughness $z_0$, and summarized to get the total power produced by the farm in one year as shown in equation \ref{Power Mosetti et al.}. Cost was modeled as a simple function of the number of turbines $N_t$, assuming a cost reduction when a large number of turbines are installed as shown in equation \ref{Cost Mosetti et al.} \\


\begin{equation}
\label{Power Mosetti et al.}
Power_{total} = \sum^{N_t}_{i} z_0u_i^3,
\end{equation}
\todo{Do I have to explain where these come from?}


\begin{equation}
\label{Cost Mosetti et al.}
cost_{total} = N_t \left( \frac{2}{3} + \frac{1}{3}e^{-0.00174N_t^2} \right).
\end{equation}

\noindent With goal of producing a great amount of power at low cost, the objective function was formulated as a function of equation \ref{Power Mosetti et al.} and \ref{Cost Mosetti et al.}\\


\begin{equation}
Objective = \frac{1}{P_{total}}w_1 + \frac{cost_{total}}{P_{total}}w_2
\label{Objective function Mosetti et al.}
\end{equation}


\noindent where $w_1$ and $w_2$ are weights. In the current study, $w_1$ was kept small so that the focus would be on lowest cost per energy produced. \\

\todo{Should I make a complete reference here?}
\noindent Mosetti et al. divided the wind farm terrain into a $10\times10$ quadratic grid so that a wind turbine could be installed in the middle of each cell. The optimization problem would then be to find which cells wind turbines should be installed in, in order to maximize power production and minimize cost. With this representation, an individual of the genetic search could be represented as a binary string of length 100, where each index represents a cell in the grid, so that a value of 1 means that a wind turbine is installed in the corresponding cell, and a value of zero means that there is no wind turbine in the corresponding cell. The genetic algorithm used was a simple, single-population genetic search where the fittest individuals where selected for reproduction using crossover and mutation. The crossover operation was performed at random locations with probability $0.6 < P_c < 0.9$ and mutation was performed with probability $0.01 < P_m < 0.1$. Figure \ref{Wind Farm Representation} illustrates how an individual represents a wind park for a wind farm partitioned into nine cells.\\


\begin{figure}[h!]
\begin{center}
\includegraphics[scale=0.3]{images/"Wind Farm Representation"}
\caption{A simple example of how an individual of size nine represents a wind farm, where grey cells demonstrates positions containing a wind turbine and white cells demonstrates empty positions. }
\label{Wind Farm Representation}
\end{center}
\end{figure}


\noindent The model was tested on a single type of turbines in three different scenarios; (a) single wind direction, (b) multiple wind direction with constant intensity, and (c) multiple wind direction and intensity. For each scenario, the results was measured against random configurations of 50 turbines. In scenario one, the efficiency of the random configuration was 0.50, while the efficiency of the optimized solution was 0.95. In the second wind scenario, the efficiency was decreased from 0.35 in the random configuration to 0.88 in the optimized configuration. And, in the last scenario the efficiency was increased from 0.34 to 0.84. For each scenario the number of wind turbines was decreased drastically in the optimized version. Table \ref{Results Mosetti et al.} summarizes the results obtained.

\begin{center}
\begin{table}[h!]
\caption{Optimized configurations compared against random configurations for each of the three scenarios (a) single wind direction, (b) multiple wind direction with constant intensity and (c) multiple wind direction and intensity {\citep{Mosetti}}.}
\label{Results Mosetti et al.}
\scalebox{0.8}{
\begin{tabular}{c|c|c|c|c|c}
Scenario & Configuration & Efficiency & $P_{tot}$(kWyear) & cost/kWyear & Number of turbines \\ 
\hline 
(a) & Random    & 0.50 & 13025 & $2.57 \times 10^{-3}$ & 50 \\ 
      & Optimized & 0.95 & 12375 & $1.57 \times 10^{-3}$ & 25 \\ 
(b) & Random    & 0.35 & 9117   & $3.68 \times 10^{-3}$ & 50 \\ 
      & Optimized & 0.88 & 8711   & $1.84 \times 10^{-3}$ & 19 \\ 
(c) & Random    & 0.34 & 4767    & $7.04 \times 10^{-3}$ & 50 \\ 
      & Optimized & 0.84 & 3695    & $3.61 \times 10^{-3}$ & 15 \\ 
\end{tabular}}
\end{table}
\end{center}


\noindent As discussed in the paper, different simplifying assumptions are made in the model such as the wake effect model, the cost function, turbine type and layout model. The results are also only compared against random configurations, not configurations optimized by other optimization approaches, and no attempts is made to optimize the software. However, the purpose of this initial paper was to demonstrate the applicability of genetic algorithms on the wind farm layout optimization problem, and it has certainly laid the ground work for a number of studies performed over the last 20 years. \\


% Grady et al. 2005.
\noindent In 2005, Grady et al. picked up where Mosetti et al. left of \textcolor{red}{[Grady et al., 2005]}. They recognized that while the results of Mosetti et al. beat random configurations they were not close to configurations made on simple empirical placement schemes. In their study, they opt to determine the effectiveness of the genetic algorithm compared to optimal configurations to investigate their usefulness in wind farm layout optimization. \\

\noindent As Mosetti et al., they also used a wake model similar to the Jensen model \textcolor{red}{(do I have to reference it again?)} as well as the same cost- and power function. However, the objective function was changed into\\

\begin{equation}
Objective = \frac{cost}{P_{tot}}
\label{Objective function Grady et al.}
\end{equation}

\noindent to minimize the cost per unit of produced energy, losing the weight from Mosetti et al presented in equation \ref{Objective function Mosetti et al.}.\\

\noindent The same three scenarios as Mosetti et al. was considered. However, the number of individuals was increased from 200 to 600, and run for 3000 generations instead of 400. Grady et al. also implemented a distributed genetic algorithm where the individuals was divided into 20 sub-populations, sadly not sharing any more implementations details. On the first scenario, Grady et al. recognized that with uniform wind distribution the optimal solution could be obtained by optimizing on single row of the layout, and copy it to the rest. As opposed to Mosetti et al., their results are identical to the optimal solution. In scenario (b) and (c) however, the optimal solution can not be obtained empirical, and therefore the results are just compared against those of Mosetti et al. The results for each scenario is displayed in table \ref{Results Grady et al.}. \\

\noindent Table \ref{Results Grady et al.} compare the solutions of the two studies. The first thing to notice is the difference in number of turbines, where Grady et al. ends up with more turbines in each case, approximately doubling the number of turbines in scenario (b) and (c). The explanation behind this observation is the objective functions. Objective function \ref{Objective function Mosetti et al.} prioritizes low cost and hence prioritizes a lower turbine count. \textcolor{red}{Fact check!} The number of turbines for each case explains the largely explains the results. For each scenario the fitness of Mosetti et al. is higher than the fitness obtained in Grady et al. With exception of the first scenario, the efficiency is also larger in Mosetti et al., which makes sense since fewer turbines leads to less wake effect to decrease efficiency \textcolor{red}{Fact check!}. However, in each case, the total power production is largely increased in the current study, which also makes sense based on the turbine count \textcolor{red}{Fact check!}. \\


\begin{table}[h!]
\begin{center}
\caption{Current results compared against the restults from Grady et al. for each of the three scenarios. \textcolor{red}{[Grady et al., 2005]}}
\label{Results Grady et al.}
\begin{tabular}{c|l|l|l}
Scenario & Parameter                    & Mosetti et al.  & Grady et al. \\ 
\hline 
(a)          & Fitness                        & 0.0016197     & 0.0015436 \\ 
              & Total power (kW year) & 12 352           & 14 310 \\ 
              & Efficiency (\%)            & 91.645            & 92.015 \\ 
              & Number of turbines     & 26                    & 30  \\ 
&&&\\
(b)         & Fitness                        & 0.0017371      & 0.0015666 \\ 
              & Total power (kW year) & 9244.7           & 17220 \\ 
              & Efficiency (\%)            & 93.859           & 85.174 \\ 
              & Number of turbines     & 19                   & 39 \\ 
&&&\\
(c)         & Fitness                        & 0.00099405   & 0.00080314 \\ 
              & Total power (kW year) & 13 460          & 32 038 \\ 
              & Efficiency (\%)            & 94.62            & 86.619 \\ 
              & Number of turbines     & 15                  & 39 \\  
\end{tabular} 
\end{center}
\end{table}


\noindent In summary, Grady et al. is able to show that an optimal solution for scenario (a) can be obtained by genetic algorithm search. It also shows that the power production obtained in Mosetti et al. can be increased by optimizing of parameter values and more sophisticated implementation of the genetic algorithm. However, they make no attempt to compare their solutions for scenario (b) and (c) to solutions obtained using other optimization techniques. For a similar study where individuals are implemented as matrices in MATLAB see \textcolor{red}{[Emani et al., 2009]}.\\


% Zhao et al.
\noindent Zhao et al. (2006) presented a very interesting study, where the electrical system of an off shore wind farm on Burko Bank in Liverpool Bay was optimized using a genetic algorithm. Although this is a study of cable clustering design, with fixed wind turbine count and positions, it is very interesting because it is compared against an actual result obtained by the Burbo project team. To get an understanding of the optimization problem four different clustering designs are presented in figure \ref{Clustering Design}.\\


\begin{figure}[h!]
\begin{center}
\includegraphics[scale=0.2]{images/"Clustering Design (Zhao)"}
\caption{Four example clustering designs \textcolor{red}{[Zhao et al., 2006]}.}
\label{Clustering Design}
\end{center}
\end{figure}


\noindent In their paper, Zhao et al. presents an extensive study of different genetic algorithm techniques to find out which performs best on this type of optimization problem. Premature convergence is discovered as the main problem of the genetic algorithm and to deal with this different techniques are presented such as a diversity check, and an crowding technique called restricted tournament selection. \textcolor{red}{For more implementation details suggest reading the paper? Can I write something like that.}\\

\noindent Different genetic algorithm designs was tested, and the results show that the final design obtained was equal to the design obtain by the Burbo project team! This shows that optimization using sophisticated genetic algorithm implementations can find the same solution as current optimization techniques for optimization of electrical systems.\\


% Huang, 2007
\noindent Huang presented a study in 2007, showing that a distributed genetic algorithm performs better than a simple genetic algorithm \textcolor{red}{[Huang, 2007]}. Huang uses a more realistic objective function than the previous studies, taking into account the selling price of electric energy, as well as cost and energy production. The distributed genetic algorithm uses the Island model, with 600 individuals divided among 20 demes, using the ring-topology shown in figure \ref{Ring Topology}.\\

\begin{figure}[h!]
\begin{center}
\includegraphics[scale=0.3]{images/"Ring Topology"}
\caption{Ring topology example with 6 demes \textcolor{red}{[Huang, 2007]}.}
\label{Ring Topology}
\end{center}
\end{figure}


\noindent The simulation was run for 2500 generations with the migration strategy that 3.3\% of the individuals with highest fitness was selected as migrants, to replace the individuals with lowest fitness in the new population every 20th generation. The distributed algorithm was tested using the same three scenarios as Mosetti et al. and Grady et al., against a simple genetic algorithm. In case (a) the distributed genetic algorithm was able to come up with the optimal solution (presented by Grady et al.), while as the simple genetic algorithm was not. For each of the three scenarios the distributed algorithm ended up with higher fitness value, more power produced, lower CPU time and fewer generations. In case (a) the turbine count was equal resulting in higher efficiency for the distributed algorithm, while in scenario (b) and (c) the distributed algorithm produced solutions with one more turbine than the simple algorithm, resulting in slightly lower efficiency. Huang also briefly gives a thin explanation that the results obtained are slightly better than those of Grady et al., but acknowledges that the results are hard to compare because of different objective functions.\\


% Mora
All studies presented above have used binary encoding in their wind farm representation, but in 2007 Mora et al. presented a study where the binary encoding was replaced by an integer encoding. In their approach, an individual was represented with the $(x, y)$ coordinates of a given turbine. In addition to optimize turbine position, Mora et al. also wanted to optimize both turbine type and height. In order to do this, their individuals was represented by a matrix where the first row contained the x-coordinates of the turbines, the second row the y-coordinates, the third row turbine type and the forth row turbine height as shown in figure \ref{Individual Representation (Mora)}. Note that with this type of encoding, different individuals can have different lengths, depending on the number of turbines in each solution. Whether it is reasonable to allow different turbine types is another discussion, which will not be taken here, but previous authors have mentioned that when the same turbine type is used one can expect the price of a turbine to decrease with the number of turbines purchased \textcolor{red}{Reference Mosetti and the others, but double check first}. \\


\begin{figure}[h!]
\begin{center}
\includegraphics[scale=0.4]{images/"Individual Representation (Mora)"}
\caption{Representation of an individual of length $k$ (layout with $k$ turbines), where the first row represents x-coordinates of the turbines, the second row y-coordinates, the third row turbine type, and the forth row turbine height. \textcolor{red}{[Mora et al., 2007]}.}
\label{Individual Representation (Mora)}
\end{center}
\end{figure}


\noindent Five crossover methods, and a masked mutation method were presented for the new type of encoding, see \textcolor{red}{Mora et al., 2007} for implementation details. To model the wind speed, the Weibull distribution was used, a more realistic wind speed model than the one used in the previous studies. The Weibull distribution will be explained in more detail later, since it is also used in the simulator for this thesis. Three different case studies are performed, the first one searches for an optimal solution when the number of turbines are decided beforehand. The second searches for an optimal positioning, type and height of turbines within a given budget. And the third one where there are no such constraints. Even thought the results are only briefly discussed, and presented by the authors as optimal with no explanation, this paper marks the switch from binary encoding to integer encoding, and from simple wind models to the Weibull distribution.\\


%Wan et al, 2009.
\noindent Wan et al. \textcolor{red}{[2009]} criticized the simple power-, and wind distribution model presented by Mosetti et al., and Grady et al. As Mora et al., they suggested using the Weibull distribution to model the wind. However, they introduced a novel power model \\


\begin{equation}
\label{Power Model (Wan)}
\int_{u_in}^{u_out} P(u)f(u) du,
\end{equation}


\noindent where $u_{in}$ is the cut-in wind speed of the turbine, and $u_{out}$ is the cut-out wind speed of the turbine. $P(u)$ is the power output for the wind speed $u$ and $f(u)$ is the probability density of the wind speed $u$. The genetic algorithm was similar to that of Grady et al., and results show that the produced power increases. The results are not that important thought, because different objective function will produce different optimal solutions, however the power model introduced will be utilized in many future studies.\\


% Kusiak et al., 2009
\noindent One of the most complete studies of the wind farm layout optimization problem was done by Kusiak et al. (2009). \textcolor{red}{Should I write et al. when only two authors?} The study is based on six assumptions, which according to the authors are realistic and industrial-accepted. The study assume a fixed, predetermined turbine count, small variations of surface roughness, turbines with equal power curves, wind speed following the Weibull distribution, that wind speed at different locations with same direction share the same Weibull distribution, and last, it assumes that any two turbines are separated with at least four rotor diameters. A multi-objective function was used to calculate the fitness of the solutions. It consisted of one objective function to maximize expected energy produced, and one to minimize the constraint violations. Kusiak et al. critiques Mosetti et al. and Grady et al. for not basing their wind energy calculation on the power curve function and not thoroughly discussing wind direction. Their work include an extensive model of wind energy based on a discretization of the expected power production for each wind direction. \\


% Representation
% Weibull distribution
% Power curve
% Wind scenarios
% Results


% Gonzalez et al. 2010.
Assumptions such as a cost model only dependent on the number of turbines are unrealistic, and needs to be removed in order to model the wind farm layout optimization problem in an realistic way. \textcolor{red}{González et al. [2010]} introduced a cost model based on the net present value, which takes into account wind speed, wind distribution, the number, type, rated power and tower height of turbines, loss to due wake effects, auxiliary costs, road infrastructure, buildings, substation, electrical framework and financial aspects such as return on investment. For example, In order to accurately model civil cost they present an greedy search which connects wind turbines to auxiliary roads or other turbines dependent on their position. Figure \ref{Civil Cost Greedy Algorithm (Gonzales)} shows how the greedy algorithm works. To connect the first turbines to one of the roads it measures the distance between every turbine and every road and connects the turbine and road that are nearest. Next it calculates the distance between the remaining turbines and the two roads and the turbine already connected, finds the minimum distance and connect the turbines. \textcolor{red}{Not done. Explain algorithm using example. Make caption.}


\begin{figure}[h!]
\begin{center}
\includegraphics[scale=0.3]{images/"Civil Cost Greedy Algorithm (Gonzales)"}
\caption{ \textcolor{red}{[González at al, 2010]}.}
\label{Civil Cost Greedy Algorithm (Gonzales)}
\end{center}
\end{figure}


\noindent Other new features included is a new wake model \textcolor{red}{Frandsen et al., 2006, 2007}, a local search when the genetic algorithm cannot find a better individual, and a genetic algorithm that can manage forbidden areas and that gives penalties for turbines positioned in undesirable terrain. Individuals are represented the same way as Mora et al. \textcolor{red}{[2007]} displayed in figure \ref{Individual Representation (Mora)}. Results are compared against Grady, and shows higher produced energy. The authors also include three case studies showing how their algorithm can handle restrictions such as roads crossing, forbidden zones, undesirable zones and maximum investment cost.\\


% Sisbot et al. 2010
\noindent \c{S}i\c{s}bot et al. published a case study of wind turbine placement on a wind farm at the Island G{\"o}k\c{c}eada, at the north east of the Aegean Sea \textcolor{red}{[\c{S}i\c{s}bot et al., 2010]}. A distributed genetic algorithm was used, but, unlike Huang, the individuals were evaluated based on multiple objective functions; one that measures the total cost (installation and operational), and one that measure total power production. \c{S}i\c{s}bot et al. argue that in an environment with changing demands, the use of a multi-objective function gives the decision-makers the opportunity to evaluate the different designs based on cost and power production separately, without ill-informed, randomly generated weights. The selection process used is a controlled, elitist process, meaning that not only the fittest, but also some individuals that can spread diversity to the population are selected for reproduction. The genetic algorithm returns a set of Pareto optimal solutions; a set of solutions that are not dominated by any other solution in the set. Stated more formally, solutions \textbf{y} is said to dominate solution \textbf{x} if

\begin{equation}
\forall i: f_i(\textbf{x}) \leq f_i(\textbf{y}) \hspace{1mm} and \hspace{1mm} \exists j: f_j(\textbf{x}) < f_j(\textbf{y}) 
\label{Dominated solutions}
\end{equation}

where $f_i$ is objective function \textcolor{red}{[Murata et al., 2001]}. Other interesting features of this study is the introductions of constraints on wind turbine positions and constraints on the cost, meaning that individuals with wind turbines outside the area of the island, and individuals with costs larger than the budget are removed from the population. Even thought constraints on individuals are not in accordance with the nature genetic algorithms, they can be necessary when the algorithm is applied to a real problem. Another feature introduced in this paper is rectangular cells. The argument behind this decision is that the safe distance between wind turbines is dependent of the direction of the turbine. The minimum distance between turbines in prevailing wind is 8D, while the minimum distance between turbines in the crosswind is 2D. In spite of this attempt to make the wind scenario more realistic, it is critiqued because it operates with a constant wind direction and constant speed, using the average wind direction and speed measured at the Island \textcolor{red}{[Samorani, 2013]}. Results are not compared against previous studies, and the argument behind this decision is that it is hard to compare a Pareto-optimal set of solution to one of the previous solutions. \\


% Saavedra-Moreno et al., 2010
\noindent Another very interesting solution to the wind farm layout optimization problem was proposed by Saavedra-Moreno et al. (2010). Four novel improvements were included in their model. First, a shape model was introduced to model the terrain shape. By introducing this model, the simplification of a square grid was lost, and every terrain shape could be implemented. Second, an orography model was used to model the wind speed on different height differences. Using this technique, the wind model is much more realistic because it takes into account that wind speed differs at different heights. Third, they introduce a new cost model, which takes into account installation cost, connection between turbines, road construction and net benefit from the produced energy. The fourth, and maybe most exiting improvement has been discussed and requested by many \textcolor{red}{Reference everyone who has requested seeded GA.}. Instead of starting the genetic search from a random population, a greedy-constructive heuristic is used to decide the initial positioning of the turbines. The greedy heuristic works by placing turbines one by one in the position with maximal wind speed. First, the first turbine is positioned in the position wind maximum wind speed, next the wind speed is updated because of the reduction in wind speed caused by the wake effect of the first turbine, third, the second turbine is positioned in the position with maximal wind speed. This process continues until $N$ wind turbines is placed. Clearly, the resulting layout is largely influenced by the positioning of the first turbine, and leads to a sub-optimal solution on its own. However, it is much better than a random solution, and as it turns out a good starting point for the genetic algorithm. Results for 15 different orographys for the same terrain shape is provided, showing the objective function values obtained by the greedy heuristic, a simple genetic algorithm with random starting positions, and the seeded genetic algorithm (the genetic algorithm with starting positions provided by the greedy heuristic). In each case, the genetic algorithm with random starting positions beats the results obtained by the greedy heuristic alone, but more importantly, in each case, the seeded genetic algorithm beats the results of the simple genetic algorithm. \\


% Gao et al.
\noindent In 2015, Gao et al. implemented a distributed genetic algorithm to solve the wind farm layout optimization problem. Unfortunately, they have kept most of the implementation details of the distributed genetic algorithm for themselves. One interesting feature about their layout optimization is that they do not use the constraint that the turbines have to be positioned in the middle of a cell, but can be placed anywhere within the farm. This property is made possible by inspecting the positions of the turbines relative to each other, and reassign the turbines that are too close to other positions, a method introduced by \textcolor{red}{[Wan et al., 2009]}. The algorithm is tested on the same three scenarios from Mosetti et al. and compared against all previous studies using the same scenarios \textcolor{red}{[Mosetti et al., 1994], [Grady et al., 2005], [Gonzàlez et al., 2010], [Mittal, 2010], [Pookpunt et al., 2013, ][Wan et al., 2009, 2010], [Zhang et al., 2011]}. For the comparison to be valid they force their solutions to have the same number of turbines as the previous studies. In each case their resulting layout is able to produce more energy, and has higher efficiency, while never achieving the highest fitness. In addition to this comparison, Gao et al. introduce an interesting hypothetical case study of wind turbine placement on an offshore farm located in the Hong Kong southeastern water. By using real wind data, collected over 20 years, they demonstrates that the distributed genetic algorithm can be applied to a real-world wind farm layout optimization problem. The resulting wind farm layout was able to produce 9.1\% of yearly electrical consumption in Hong Kong (2012).



